<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å¯’å‡è®¡åˆ’</title>
<style>
  body{font-family:Microsoft YaHei;background:#f7f8fa;margin:0;padding:15px;}
  .container{max-width:800px;margin:0 auto;background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,0.05);}
  h1{text-align:center;font-size:20px;color:#333;margin-bottom:20px;}
  .top-bar{display:flex;justify-content:space-between;background:#e8f5e9;padding:10px;border-radius:8px;margin-bottom:20px;font-size:14px;color:#2e7d32;}
  .section{margin-bottom:25px;}
  .section-title{font-size:16px;font-weight:bold;color:#333;border-bottom:1px solid #4caf50;padding-bottom:8px;margin-bottom:12px;}
  .task-item{display:flex;align-items:center;margin:8px 0;font-size:14px;}
  .task-item input{margin-right:10px;}
  .task-text{flex:1;}
  .reward{color:#2e7d32;margin-left:8px;}
  .penalty{color:#d32f2f;margin-left:8px;}
  .btn{width:100%;padding:12px;border:none;border-radius:8px;margin:10px 0;font-size:16px;background:#4285f4;color:#fff;}
  .btn-orange{background:#ff9800;}
  .btn-purple{background:#9c27b0;}
  .money-bar{display:flex;justify-content:space-between;margin:10px 0;font-size:15px;}
  .green{color:#2e7d32;}
  .red{color:#d32f2f;}
  .record{background:#f9f9f9;padding:10px;border-radius:8px;margin:10px 0;font-size:13px;max-height:200px;overflow:auto;}
</style>
</head>
<body>
<div class="container">
  <h1>å¯’å‡é€†è¢­ ğŸ‰</h1>

  <div class="top-bar">
    <span>ä»Šæ—¥æŠ½å¥–æ¬¡æ•°: <span id="c">0</span> æ¬¡</span>
    <span>ä»Šæ—¥ç½šæ¬¾: Â¥<span id="tf">0</span></span>
    <span>ç´¯è®¡ç½šæ¬¾: Â¥<span id="tof">0</span></span>
  </div>

  <div class="section">
    <div class="section-title">æ¯æ—¥å¿…åšä»»åŠ¡</div>
    <div class="task-item">
      <input type="checkbox" id="t1" onchange="toggleTask('t1',1)">
      <label for="t1" class="task-text">6:30èµ·åºŠï¼Œå è¢«å­/ä¿æŒæˆ¿é—´æ•´æ´ï¼ˆ2å¤©ä¸€æ¬¡ï¼‰</label>
      <span class="penalty">ç½šæ¬¾:Â¥10/Â¥20</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="t2" onchange="toggleTask('t2',1)">
      <label for="t2" class="task-text">å®Œæˆ3ä¸ªè§†é¢‘è¿åŠ¨</label>
      <span class="reward">å¥–åŠ±: 1æ¬¡</span>
      <span class="penalty">ç½šæ¬¾:Â¥50</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="t3" onchange="toggleTask('t3',1)">
      <label for="t3" class="task-text">8:30å‰åˆ°å›¾ä¹¦é¦†</label>
      <span class="reward">å¥–åŠ±: 1æ¬¡</span>
      <span class="penalty">ç½šæ¬¾:Â¥20/Â¥50</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="t4" onchange="toggleTask('t4',3)">
      <label for="t4" class="task-text">ä¸Šä¸€èŠ‚èµµç¤¼æ˜¾æ•°å­¦ï¼ˆ3hï¼‰</label>
      <span class="reward">å¥–åŠ±: 3æ¬¡</span>
      <span class="penalty">ç½šæ¬¾:Â¥50</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="t5" onchange="toggleTask('t5',1)">
      <label for="t5" class="task-text">æ•°å­¦åˆ·ä¸€é¢é¢˜</label>
      <span class="reward">å¥–åŠ±: 1æ¬¡</span>
      <span class="penalty">ç½šæ¬¾:Â¥50</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="t6" onchange="toggleTask('t6',2)">
      <label for="t6" class="task-text">æ—¥è¯­èƒŒ10å•è¯+2å¥å­å¹¶é»˜å†™</label>
      <span class="reward">å¥–åŠ±: 2æ¬¡</span>
      <span class="penalty">ç½šæ¬¾:Â¥30</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="t7" onchange="toggleTask('t7',0)">
      <label for="t7" class="task-text">ä¸Šä¸€èŠ‚åŒ–å­¦è¯¾ï¼ˆè¿ç»­3æ¬¡å…‘æ¢1æ¬¡ï¼‰</label>
      <span class="penalty">ç½šæ¬¾:Â¥10</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="t8" onchange="toggleTask('t8',0)">
      <label for="t8" class="task-text">ç»ƒå­—åŠé¡µï¼ˆ2å¤©ä¸€æ¬¡ï¼‰</label>
      <span class="penalty">ç½šæ¬¾:Â¥10</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="t9" onchange="toggleTask('t9',1)">
      <label for="t9" class="task-text">ä¸Šè¯­æ–‡è¯¾40åˆ†é’Ÿ</label>
      <span class="reward">å¥–åŠ±: 1æ¬¡</span>
      <span class="penalty">ç½šæ¬¾:Â¥20</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="t10" onchange="toggleTask('t10',2)">
      <label for="t10" class="task-text">ä¸¤å¤©ä¸Š3èŠ‚ç‰©ç†è¯¾</label>
      <span class="reward">å¥–åŠ±: 2æ¬¡</span>
      <span class="penalty">ç½šæ¬¾:Â¥50</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="t11" onchange="toggleTask('t11',2)">
      <label for="t11" class="task-text">6:30-å­¦ä¹ å®Œå‰ä¸ä½¿ç”¨å¨±ä¹è½¯ä»¶</label>
      <span class="reward">å¥–åŠ±: 2æ¬¡</span>
      <span class="penalty">ç½šæ¬¾:Â¥50</span>
    </div>
  </div>

  <div class="section">
    <div class="section-title">ä¸å®šæ€§ä»»åŠ¡ï¼ˆå®Œæˆå¿…åšåå†åšï¼‰</div>
    <div class="task-item">
      <input type="checkbox" id="o1" onchange="toggleTask('o1',2)">
      <label for="o1" class="task-text">ç‰©ç†è¯¾3èŠ‚ï¼ˆå…‘æ¢2æ¬¡ï¼‰</label>
      <span class="reward">å¥–åŠ±: 2æ¬¡</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="o2" onchange="toggleTask('o2',1)">
      <label for="o2" class="task-text">ç‰©ç†é¢˜ä¸€é¡µ</label>
      <span class="reward">å¥–åŠ±: 1æ¬¡</span>
    </div>
    <div class="task-item">
      <input type="checkbox" id="o3" onchange="toggleTask('o3',1)">
      <label for="o3" class="task-text">ç´ æèƒŒè¯µä¸€ä¸ª</label>
      <span class="reward">å¥–åŠ±: 1æ¬¡</span>
    </div>
  </div>

  <div class="section">
    <button class="btn" onclick="draw()">ğŸ å¼€å§‹æŠ½å¥–</button>
    <div class="money-bar">
      <span class="green">ä»Šæ—¥è·å¾—: Â¥<span id="te">0</span></span>
      <span>ç´¯è®¡è·å¾—: Â¥<span id="toe">0</span></span>
    </div>
    <button class="btn btn-purple" onclick="setF()">âœï¸ ä¿®æ”¹ç´¯è®¡ç½šæ¬¾</button>
    <button class="btn btn-purple" onclick="setE()">âœï¸ ä¿®æ”¹ç´¯è®¡è·å¾—</button>
    <button class="btn btn-orange" onclick="todayReset()">ğŸ”„ é‡ç½®ä»Šæ—¥æ•°æ®</button>
  </div>

  <div class="section">
    <div class="section-title">æŠ½å¥–è®°å½•</div>
    <div class="record" id="log"></div>
  </div>
</div>

<script>
let c=0, te=0, tf=0, toe=0, tof=0
let log=[]
let taskState = {}

const gifts = [
  // 5ä¸ªè°¢è°¢æƒ é¡¾
  {name:"è°¢è°¢æƒ é¡¾",value:0},
  {name:"è°¢è°¢æƒ é¡¾",value:0},
  {name:"è°¢è°¢æƒ é¡¾",value:0},
  {name:"è°¢è°¢æƒ é¡¾",value:0},
  {name:"è°¢è°¢æƒ é¡¾",value:0},
  // 2ä¸ª5å…ƒ
  {name:"5å…ƒ",value:5},
  {name:"5å…ƒ",value:5},
  // 2ä¸ª10å…ƒ
  {name:"10å…ƒ",value:10},
  {name:"10å…ƒ",value:10},
  // 1ä¸ª15å…ƒ
  {name:"15å…ƒ",value:15},
  // 1ä¸ª20å…ƒ
  {name:"20å…ƒ",value:20},
  // å…ç½š10å…ƒÃ—3
  {name:"å…ç½š10å…ƒÃ—3",value:10},
  // å§‘ç©ç¢ç‰‡Ã—2
  {name:"å§‘ç©ç¢ç‰‡Ã—2",value:0},
  // ç”µå½±ç¢ç‰‡Ã—1
  {name:"ç”µå½±ç¢ç‰‡Ã—1",value:0},
  // ä¸€åªç¾½æ¯›çƒÃ—2
  {name:"ä¸€åªç¾½æ¯›çƒÃ—2",value:0},
  // å¯å€Ÿ100Ã—1
  {name:"å¯å€Ÿ100Ã—1",value:100},
  // æœèŒ¶Ã—1
  {name:"æœèŒ¶Ã—1",value:0},
  // æ”¾å‡æœ€åä¸€å¤©å‡ºå»ç©ç¢ç‰‡Ã—1
  {name:"å‡ºå»ç©ç¢ç‰‡Ã—1",value:0}
];

function up(){
  document.getElementById('c').innerText = c
  document.getElementById('te').innerText = te
  document.getElementById('tf').innerText = tf
  document.getElementById('toe').innerText = toe
  document.getElementById('tof').innerText = tof
  document.getElementById('log').innerText = log.join('\n')
}

function toggleTask(id, reward){
  const cb = document.getElementById(id)
  if(cb.checked){
    c += reward
    log.push('âœ… '+time()+' å®Œæˆä»»åŠ¡: '+cb.parentElement.querySelector('.task-text').textContent)
  }else{
    c -= reward
    log.push('âŒ '+time()+' å–æ¶ˆä»»åŠ¡: '+cb.parentElement.querySelector('.task-text').textContent)
  }
  up()
}

function draw(){
  if(c<1){alert('æ²¡æœ‰æŠ½å¥–æ¬¡æ•°äº†ï¼');return}
  c--
  const g = gifts[Math.floor(Math.random()*gifts.length)]
  if(g.v>0){
    te += g.v
    toe += g.v
  }
  log.push('ğŸ '+time()+' æŠ½ä¸­: '+g.n)
  up()
}

function todayReset(){
  c=0; te=0; tf=0; log=[]
  document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false)
  up()
}

function setF(){
  const v = prompt('è¯·è¾“å…¥æ–°çš„ç´¯è®¡ç½šæ¬¾ï¼š', tof)
  if(v!==null && !isNaN(v)) tof = Number(v)
  up()
}

function setE(){
  const v = prompt('è¯·è¾“å…¥æ–°çš„ç´¯è®¡è·å¾—ï¼š', toe)
  if(v!==null && !isNaN(v)) toe = Number(v)
  up()
}

function time(){
  const d = new Date()
  return `${d.getMonth()+1}-${d.getDate()} ${d.getHours()}:${String(d.getMinutes()).padStart(2,'0')}`
}
</script>
</body>
</html>
